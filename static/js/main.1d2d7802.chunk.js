(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{310:function(e,t,n){},312:function(e,t,n){},470:function(e,t,n){"use strict";n.r(t);var a,i,c,r,l=n(0),s=n(24),o=n.n(s),d=(n(310),n(311),n(312),n(8)),u=n(29),j=n(14),b=n(502),m=n(545),h=n(546),p=n(539),f=n(473),O=n(61),x=n(523),g=n(284),v=n(538),y=n(564),C=n(519),N=n(508),E=n(548),S=n(280),R=n.n(S),w=n(43),P=n.n(w),D=n(6),I=n(472),F=n(505),k=n(506),A=n(507),T=n(258),q=n.n(T),U=n(259),M=n.n(U),B=n(255),L=n.n(B),H=n(261),W=n.n(H),G=n(30),z=n(31),_=n(256),K=n.n(_),V=n(257),Q=n.n(V),Y=n(134),J=n.n(Y),X=n(262),Z=n.n(X),$=n(246),ee=n(260),te=(n(247),n(25)),ne=n.n(te),ae=n(26),ie=n.n(ae),ce=n(248),re=n.n(ce);!function(e){e.REJECTED="REJECTED",e.ENDORSED="ENDORSED",e.PENDING="PENDING"}(a||(a={})),function(e){e.APPROVED="APPROVED",e.REJECTED="REJECTED",e.PENDING="PENDING",e.NON="NON"}(i||(i={})),function(e){e.PROCESSED="PROCESSED",e.ENDORSEMENT_CANCELLED="ENDORSEMENT_CANCELLED",e.APPROVAL_CANCELLED="APPROVAL_CANCELLED",e.PENDING="PENDING"}(c||(c={})),r||(r={});var le,se=ie()(ne.a);function oe(e,t){se.fire({icon:"success",title:e,text:t})}function de(e,t){se.fire({icon:"error",title:e,text:t})}function ue(e){return re.a(e,"ddd mmm dd yyyy HH:MM")}function je(e){return e===c.APPROVAL_CANCELLED||e===c.ENDORSEMENT_CANCELLED?"#f5210a":e===c.PENDING?"#f5d50a":"#35f50a"}function be(){return localStorage.getItem("theme")}!function(e){e.REGULAR="REGULAR",e.HOD="HOD",e.GENERAL_MANAGER="GENERAL_MANAGER",e.PROCUREMENT_OFFICER="PROCUREMENT_OFFICER",e.ADMIN="ADMIN"}(le||(le={}));var me=[{id:le.REGULAR,label:"REGULAR"},{id:le.HOD,label:"HEAD OF DEPARTMENT"},{id:le.PROCUREMENT_OFFICER,label:"PROCUREMENT OFFICER"},{id:le.GENERAL_MANAGER,label:"GENERAL MANAGER"},{id:le.ADMIN,label:"SYSTEM ADMIN"}],he="light",pe="dark",fe="DASHBOARD",Oe="USER MANAGEMENT",xe="DEPARTMENT",ge={path:"settings",label:"SETTINGS"},ve={path:"request-management",label:"ITEM REQUEST"},ye={dashboardRoles:[le.ADMIN,le.HOD,le.GENERAL_MANAGER],createUserRoles:[le.ADMIN],listUserRoles:[le.ADMIN],editUserRoles:[le.ADMIN],deleteUserRoles:[le.ADMIN],listDepartmentsRoles:[le.ADMIN],editDepartmentRoles:[le.ADMIN],createDepartmentRoles:[le.ADMIN],deleteDepartmentRoles:[le.ADMIN],listSupplierRoles:[le.ADMIN,le.PROCUREMENT_OFFICER,le.GENERAL_MANAGER],editSupplierRoles:[le.ADMIN,le.PROCUREMENT_OFFICER],createSupplierRoles:[le.ADMIN,le.PROCUREMENT_OFFICER],deleteSupplierRoles:[le.ADMIN],hodEndorseRoles:[le.ADMIN,le.HOD],generalManagerApproveRoles:[le.ADMIN,le.GENERAL_MANAGER],procurementOfficerApproveRoles:[le.ADMIN,le.PROCUREMENT_OFFICER]},Ce=n(1),Ne={currentPage:fe,theme:be()&&be()===pe?pe:he,updateCurrentPage:function(){},updateTheme:function(){}},Ee=Object(l.createContext)(Ne),Se=function(e){var t=e.children,n=Object(l.useState)(Ne.currentPage),a=Object(d.a)(n,2),i=a[0],c=a[1],r=Object(l.useState)(Ne.theme),s=Object(d.a)(r,2),o=s[0],u=s[1];return Object(Ce.jsx)(Ee.Provider,{value:{theme:o,currentPage:i,updateCurrentPage:function(e){return c((function(t){return e}))},updateTheme:function(e){return u((function(t){return e}))}},children:t})},Re=n(249),we=n.n(Re),Pe=n(250),De={timeout:3e4,baseURL:"https://blueskiesbackend.herokuapp.com/api",paramsSerializer:function(e){return Pe.stringify(e,{indices:!1})}},Ie=we.a.create(De);Ie.interceptors.request.use((function(e){var t,n=ke();return-1===(null===(t=e.url)||void 0===t?void 0:t.indexOf("/auth/login"))&&n&&(e.headers.Authorization="Bearer ".concat(n.token)),console.log("config",e),e}),(function(e){return Promise.reject(e)})),Ie.interceptors.response.use((function(e){console.log("response",e);var t=e.status;if(200===t){var n=e.data;return Promise.resolve(n)}return 404===t&&console.log("400"),Promise.reject(e)}),(function(e){return console.log("error",e),Promise.reject(e)}));var Fe=Ie;function ke(){var e=localStorage.getItem("user");return e?JSON.parse(e):void 0}function Ae(e,t){return e?t.indexOf(e)>=0:(console.log("No Role...."),!1)}var Te="25px",qe=Object(b.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.default},nested:{paddingLeft:e.spacing(4)},activeRoute:{backgroundColor:"red",color:"white"},link:{color:"inherit",textDecoration:"none"},faNavIcon:{height:"50px",width:"50px"},listItem:{backgroundColor:"".concat(e.palette.primary.main," !important"),color:"#ffffff"}}})),Ue=function(e){var t=e.authUser,n=qe(),a=Object(l.useState)(!1),i=Object(d.a)(a,2),c=i[0],r=i[1],s=Object(l.useState)(!1),o=Object(d.a)(s,2),u=(o[0],o[1],Object(l.useState)(!1)),j=Object(d.a)(u,2),b=(j[0],j[1],Object(l.useState)("")),m=Object(d.a)(b,2),h=(m[0],m[1],Object(G.g)()),p=Object(l.useContext)(Ee),f=function(e){return!!(h.pathname===e)||h.pathname.indexOf(e)>=0&&e.length>1},O=function(e){p.updateCurrentPage(e)};return Object(Ce.jsxs)(l.Fragment,{children:[Ae(null===t||void 0===t?void 0:t.roles,ye.dashboardRoles)?Object(Ce.jsx)(z.b,{to:"/",className:n.link,color:"primary",children:Object(Ce.jsxs)(I.a,{button:!0,selected:f("/"),children:[Object(Ce.jsx)(F.a,{children:Object(Ce.jsx)(L.a,{})}),Object(Ce.jsx)(k.a,{primary:"Dashboard"})]})}):null,Ae(null===t||void 0===t?void 0:t.roles,ye.listDepartmentsRoles)?Object(Ce.jsx)(z.b,{to:"/departments",className:n.link,onClick:function(){return O(xe)},children:Object(Ce.jsxs)(I.a,{button:!0,selected:f("/department"),children:[Object(Ce.jsx)(F.a,{children:Object(Ce.jsx)(K.a,{})}),Object(Ce.jsx)(k.a,{primary:"Department"})]})}):null,Object(Ce.jsxs)(I.a,{button:!0,onClick:function(){r(!c)},selected:f("/request-management"),children:[Object(Ce.jsx)(F.a,{children:Object(Ce.jsx)(Q.a,{})}),Object(Ce.jsx)(k.a,{primary:"Item Requests"}),c?Object(Ce.jsx)(q.a,{}):Object(Ce.jsx)(M.a,{})]}),Object(Ce.jsx)(A.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(Ce.jsxs)(N.a,{component:"div",disablePadding:!0,children:[Object(Ce.jsx)(z.b,{to:"/request-management/my-requests",className:n.link,children:Object(Ce.jsxs)(I.a,{button:!0,className:n.nested,children:[Object(Ce.jsx)(F.a,{children:Object(Ce.jsx)(J.a,{})}),Object(Ce.jsx)(k.a,{primary:"My Requests"})]})}),Ae(null===t||void 0===t?void 0:t.roles,ye.hodEndorseRoles)?Object(Ce.jsx)(z.b,{to:"/request-management/hod-item-requests",className:n.link,children:Object(Ce.jsxs)(I.a,{button:!0,className:n.nested,children:[Object(Ce.jsx)(F.a,{children:Object(Ce.jsx)(J.a,{})}),Object(Ce.jsx)(k.a,{primary:"HOD Item Requests"})]})}):null,Ae(null===t||void 0===t?void 0:t.roles,ye.generalManagerApproveRoles)?Object(Ce.jsx)(z.b,{to:"/request-management/general-manager-item-requests",className:n.link,children:Object(Ce.jsxs)(I.a,{button:!0,className:n.nested,children:[Object(Ce.jsx)(F.a,{children:Object(Ce.jsx)(J.a,{})}),Object(Ce.jsx)(k.a,{primary:"GM Requests"})]})}):null,Ae(null===t||void 0===t?void 0:t.roles,ye.procurementOfficerApproveRoles)?Object(Ce.jsx)(z.b,{to:"/request-management/procurement-officer-item-requests",className:n.link,children:Object(Ce.jsxs)(I.a,{button:!0,className:n.nested,children:[Object(Ce.jsx)(F.a,{children:Object(Ce.jsx)(J.a,{})}),Object(Ce.jsx)(k.a,{primary:"Endorsed Requests"})]})}):null]})}),Ae(null===t||void 0===t?void 0:t.roles,ye.listSupplierRoles)?Object(Ce.jsx)(z.b,{to:"/supplier-management/suppliers",className:n.link,children:Object(Ce.jsxs)(I.a,{button:!0,selected:f("/suppliers"),children:[Object(Ce.jsx)(F.a,{children:Object(Ce.jsx)($.a,{icon:ee.a,style:{width:Te,height:Te}})}),Object(Ce.jsx)(k.a,{primary:"Suppliers"})]})}):null,Ae(null===t||void 0===t?void 0:t.roles,ye.listUserRoles)?Object(Ce.jsx)(z.b,{to:"/user-management/users",className:n.link,onClick:function(){return O(Oe)},children:Object(Ce.jsxs)(I.a,{button:!0,selected:f("/user-management"),children:[Object(Ce.jsx)(F.a,{children:Object(Ce.jsx)(W.a,{})}),Object(Ce.jsx)(k.a,{primary:"User Management"})]})}):null,Object(Ce.jsx)(z.b,{to:"/settings",className:n.link,children:Object(Ce.jsxs)(I.a,{button:!0,selected:f("settings"),children:[Object(Ce.jsx)(F.a,{children:Object(Ce.jsx)(Z.a,{})}),Object(Ce.jsx)(k.a,{primary:"Settings"})]})})]})},Me=n(509),Be=function(){return Object(Ce.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:[Object(Ce.jsx)("span",{children:"Copyright \xa9"}),Object(Ce.jsx)(Me.a,{color:"inherit",href:"#",children:"Website 2021"})]})},Le={id:"",firstName:"",lastName:"",fullName:"",email:"",employeeLevel:"",employeeId:"",phoneNumber:"",roles:"",department:{id:null,name:"",description:""},createdAt:"",token:""},He=ke(),We={user:He||Le,saveUser:function(e){},removeUser:function(){}},Ge=Object(l.createContext)(We),ze=function(e){var t=e.children,n=Object(l.useState)(We.user),a=Object(d.a)(n,2),i=a[0],c=a[1];return Object(Ce.jsx)(Ge.Provider,{value:{user:i,saveUser:function(e){return c(e)},removeUser:function(){return c(We.user)}},children:t})},_e=n(559),Ke=n(556),Ve=n(510),Qe=n(511),Ye=n(512),Je=n(513),Xe=n(517),Ze=function(e){var t=e.roles,n=Object(G.f)();return Object(l.useEffect)((function(){var e=ke(),a=null===e||void 0===e?void 0:e.roles;if(!e)return n.push("/login");t&&t.indexOf(a)<0&&n.push("/not-authorized")})),null};var $e=n(558),et=n(286),tt=Object(b.a)((function(e){return{root:{width:"100%"},card:{width:"100%"}}})),nt=function(e){Ze({roles:ye.dashboardRoles});var t=Object(l.useState)([]),n=Object(d.a)(t,2),a=n[0],i=n[1],c=Object(l.useState)(!1),r=Object(d.a)(c,2),s=(r[0],r[1]),o=tt(),u=function(){s(!0),new Promise((function(e,t){Fe({url:"/dashboard/requestPerCurrentMonthPerDepartment",method:"GET"}).then((function(t){return e(t)})).catch((function(e){return t(e)}))})).then((function(e){var t=e.status,n=e.data;"OK"===t&&i(n)})).catch((function(){})).finally((function(){s(!1)}))};return Object(l.useEffect)((function(){u()}),[]),Object(Ce.jsx)("div",{className:o.root,children:Object(Ce.jsxs)(Ve.a,{container:!0,spacing:3,children:[Object(Ce.jsx)(Ve.a,{item:!0,md:4,lg:4,sm:12,xs:12,children:Object(Ce.jsxs)(Qe.a,{className:o.card,children:[Object(Ce.jsx)(Ye.a,{title:"Department Request",subheader:"This Month"}),Object(Ce.jsx)(Je.a,{children:Object(Ce.jsx)($e.a,{width:530,height:100,cx:"50%",cy:"50%",children:Object(Ce.jsx)(et.a,{data:a,dataKey:"num_of_Request",nameKey:"department"})})}),Object(Ce.jsx)(Xe.a,{disableSpacing:!0,children:Object(Ce.jsx)(O.a,{variant:"button",color:"primary",style:{textDecoration:"underline",cursor:"pointer"},children:"View All"})})]})}),Object(Ce.jsx)(Ve.a,{item:!0,md:4,lg:4,sm:12,xs:12,children:Object(Ce.jsxs)(Qe.a,{className:o.card,children:[Object(Ce.jsx)(Ye.a,{title:"Number of Users",subheader:"Total Users"}),Object(Ce.jsx)(Je.a,{children:Object(Ce.jsx)(O.a,{variant:"h3",align:"left",children:"101"})}),Object(Ce.jsx)(Xe.a,{disableSpacing:!0,children:Object(Ce.jsx)(O.a,{variant:"button",color:"primary",style:{textDecoration:"underline",cursor:"pointer"},children:"View All"})})]})}),Object(Ce.jsx)(Ve.a,{item:!0,md:4,lg:4,sm:12,xs:12,children:Object(Ce.jsxs)(Qe.a,{className:o.card,children:[Object(Ce.jsx)(Ye.a,{title:"Number of Users",subheader:"Total Users"}),Object(Ce.jsx)(Je.a,{children:Object(Ce.jsx)(O.a,{variant:"h3",align:"left",children:"101"})}),Object(Ce.jsx)(Xe.a,{disableSpacing:!0,children:Object(Ce.jsx)(O.a,{variant:"button",color:"primary",style:{textDecoration:"underline",cursor:"pointer"},children:"View All"})})]})}),Object(Ce.jsx)(Ve.a,{item:!0,md:12,lg:12,sm:12,xs:12,children:Object(Ce.jsxs)(Qe.a,{className:o.card,children:[Object(Ce.jsx)(Ye.a,{title:"Number of Users",subheader:"Total Users"}),Object(Ce.jsx)(Je.a,{children:Object(Ce.jsx)(O.a,{variant:"h3",align:"left",children:"101"})}),Object(Ce.jsx)(Xe.a,{disableSpacing:!0,children:Object(Ce.jsx)(O.a,{variant:"button",color:"primary",style:{textDecoration:"underline",cursor:"pointer"},children:"View All"})})]})})]})})},at=n(38),it=n(192),ct=n(560),rt=n(561),lt=n(524),st=n(525),ot=n(526),dt=n(527),ut=n(528),jt=n(529),bt=n(530),mt=n(518),ht=Object(b.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap"},headerDiv:{display:"flex"},settingsDiv:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},myAvatar:{color:e.palette.getContrastText(mt.a[500]),backgroundColor:mt.a[500]},userField:{marginTop:"10px",width:"100%"},textField:{marginBottom:"20px"}}})),pt=function(){var e=Object(l.useState)("My Settings"),t=Object(d.a)(e,2),n=t[0],a=(t[1],Object(l.useState)(!1)),i=Object(d.a)(a,2),c=i[0],r=i[1],s=Object(l.useState)({oldPassword:"",newPassword:""}),o=Object(d.a)(s,2),b=o[0],m=o[1],h=Object(l.useState)(!1),p=Object(d.a)(h,2),f=p[0],g=(p[1],Object(l.useContext)(Ee)),v=Object(l.useContext)(Ge),y=(Object(at.a)(),ht()),E=function(){r(!1)},S=function(e){var t=e.target,n=t.name,a=t.value;m(Object(j.a)(Object(j.a)({},b),{},Object(u.a)({},n,a)))};return Object(l.useEffect)((function(){g.updateCurrentPage("SETTINGS")}),[]),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px"},children:[Object(Ce.jsxs)(Ve.a,{container:!0,spacing:3,children:[Object(Ce.jsxs)(Ve.a,{item:!0,md:12,lg:12,sm:12,style:{textAlign:"left"},children:[Object(Ce.jsx)(O.a,{variant:"h5",color:"textPrimary",children:n}),Object(Ce.jsx)(C.a,{})]}),Object(Ce.jsx)(Ve.a,{item:!0,md:12,lg:12,children:Object(Ce.jsxs)(Ve.a,{container:!0,children:[Object(Ce.jsx)(Ve.a,{item:!0,md:6,sm:12,style:{padding:"20px"},children:Object(Ce.jsxs)(Ve.a,{container:!0,spacing:3,children:[Object(Ce.jsx)(Ve.a,{item:!0,md:12,sm:12,style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(Ce.jsx)(ct.a,{className:y.myAvatar,style:{width:"40px",height:"40px"},children:"".concat(v.user.firstName[0]).concat(v.user.lastName[0]).toUpperCase()})}),Object(Ce.jsx)(Ve.a,{item:!0,sm:12,md:6,children:Object(Ce.jsx)(rt.a,{className:y.userField,variant:"outlined",size:"small",label:"First Name",value:v.user.firstName,disabled:!0})}),Object(Ce.jsx)(Ve.a,{item:!0,sm:12,md:6,children:Object(Ce.jsx)(rt.a,{className:y.userField,variant:"outlined",size:"small",label:"Last Name",value:v.user.lastName,disabled:!0})}),Object(Ce.jsx)(Ve.a,{item:!0,sm:12,md:12,lg:12,xs:12,children:Object(Ce.jsx)(rt.a,{className:y.userField,variant:"outlined",size:"small",label:"Email",value:v.user.email,disabled:!0})}),Object(Ce.jsx)(Ve.a,{item:!0,sm:12,md:12,lg:12,xs:12,children:Object(Ce.jsx)(rt.a,{className:y.userField,variant:"outlined",size:"small",label:"Phone",value:v.user.phoneNumber,disabled:!0})}),Object(Ce.jsx)(Ve.a,{item:!0,sm:12,md:6,lg:6,xs:12,children:Object(Ce.jsx)(rt.a,{className:y.userField,variant:"outlined",size:"small",label:"Role",value:v.user.roles,disabled:!0})}),Object(Ce.jsx)(Ve.a,{item:!0,sm:12,md:6,lg:6,xs:12,children:Object(Ce.jsx)(rt.a,{className:y.userField,variant:"outlined",size:"small",label:"Department",value:v.user.department.name,disabled:!0})}),Object(Ce.jsx)(Ve.a,{item:!0,sm:12,md:12,xs:12,children:Object(Ce.jsx)(x.a,{variant:"outlined",onClick:function(){m({oldPassword:"",newPassword:""}),r(!0)},children:Object(Ce.jsx)(O.a,{variant:"button",children:"Change Password"})})})]})}),Object(Ce.jsx)(Ve.a,{item:!0,md:6,sm:12,style:{padding:"20px"},children:Object(Ce.jsxs)(Ve.a,{container:!0,children:[Object(Ce.jsx)(Ve.a,{item:!0,md:12,children:Object(Ce.jsx)(O.a,{variant:"h6",align:"center",children:"General Settings"})}),Object(Ce.jsx)(Ve.a,{item:!0,md:12,sm:12,xs:12,children:Object(Ce.jsxs)(N.a,{children:[Object(Ce.jsx)(C.a,{}),Object(Ce.jsxs)(I.a,{children:[Object(Ce.jsx)(k.a,{primary:"Dark Model"}),Object(Ce.jsx)(lt.a,{children:Object(Ce.jsx)(st.a,{edge:"end",onChange:function(e){var t=e.target.checked?pe:he;!function(e){localStorage.setItem("theme",e)}(t),g.updateTheme(t)},checked:g.theme===pe})})]}),Object(Ce.jsx)(C.a,{})]})})]})})]})})]}),Object(Ce.jsxs)(ot.a,{open:c,onClose:E,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0,children:[Object(Ce.jsx)(dt.a,{id:"form-dialog-title",children:"Change Password Form"}),Object(Ce.jsx)(ut.a,{children:Object(Ce.jsx)("div",{style:{width:"400px"},children:Object(Ce.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[Object(Ce.jsx)(rt.a,{type:"password",label:"Old Password",variant:"outlined",name:"oldPassword",value:b.oldPassword,onChange:S,className:y.textField}),Object(Ce.jsx)(rt.a,{type:"password",label:"New Password",variant:"outlined",name:"newPassword",value:b.newPassword,onChange:S,className:y.textField})]})})}),Object(Ce.jsxs)(jt.a,{children:[Object(Ce.jsx)(x.a,{onClick:E,color:"primary",disabled:f,children:Object(Ce.jsx)(O.a,{variant:"button",children:"Cancel"})}),Object(Ce.jsxs)(x.a,{onClick:function(){console.log("payload",b)},color:"primary",disabled:f,children:[f?Object(Ce.jsx)(bt.a,{}):null,Object(Ce.jsx)(O.a,{variant:"button",children:"Submit"})]})]})]})]})},ft=n(531),Ot=n(532),xt=n(533),gt=n(534),vt=n(535),yt=n(536),Ct=n(537),Nt=n(555),Et=n(106),St=n.n(Et),Rt=n(107),wt=n.n(Rt);function Pt(){return new Promise((function(e,t){Fe({url:"/departments",method:"GET"}).then((function(t){return e(t)})).catch((function(e){return t(e)}))}))}var Dt=[{id:"name",label:"Name",minWidth:170,align:"left"},{id:"description",label:"Description",minWidth:100,align:"left"}],It=Object(b.a)((function(e){return{headerBar:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},tableContainer:{maxHeight:440,padding:10}}})),Ft=function(e){var t=e.authUser;Ze({roles:ye.listDepartmentsRoles});var n=Object(l.useState)([]),a=Object(d.a)(n,2),i=a[0],c=a[1],r=Object(l.useState)(!1),s=Object(d.a)(r,2),o=s[0],u=s[1],j=Object(l.useState)(0),b=Object(d.a)(j,2),m=b[0],h=b[1],p=Object(l.useState)(10),g=Object(d.a)(p,2),v=g[0],y=g[1],C=Object(G.f)(),N=Object(G.i)().path,E=It(),S=Object(l.useContext)(Ee),R=ie()(ne.a),w=function(e){(function(e){return new Promise((function(t,n){Fe({url:"/departments/".concat(e),method:"DELETE"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))})(e).then((function(t){var n=t.message,a=t.status;c(i.filter((function(t){return t.id!=e}))),"SUCCESS"===a&&R.fire({icon:"success",title:"Success",text:n||"Deleted Successfully!"})})).catch((function(e){}))};return Object(l.useEffect)((function(){return S.updateCurrentPage("DEPARTMENT"),u(!0),Pt().then((function(e){var t=e.status,n=e.data;"OK"===t&&c(n),console.log("departments",i)})).catch((function(e){})).finally((function(){u(!1)})),function(){}}),[]),Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},"aria-label":"department bar",children:Object(Ce.jsxs)("div",{className:E.headerBar,children:[Object(Ce.jsx)(O.a,{variant:"h6",children:"Department List"}),Ae(t.roles,ye.createDepartmentRoles)?Object(Ce.jsx)(x.a,{variant:"contained",color:"primary",disableElevation:!0,"aria-label":"Create Department Button",onClick:function(){C.push("".concat(N,"/create"))},children:Object(Ce.jsx)(O.a,{variant:"button",children:"Add Department"})}):null]})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px"},children:[Object(Ce.jsxs)(ft.a,{className:E.tableContainer,children:[o?Object(Ce.jsx)(Ot.a,{color:"secondary",style:{width:"100%"}}):null,Object(Ce.jsxs)(xt.a,{stickyHeader:!0,"aria-label":"list of departments table",children:[Object(Ce.jsx)(gt.a,{children:Object(Ce.jsxs)(vt.a,{children:[Dt.map((function(e){return Object(Ce.jsx)(yt.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)})),Object(Ce.jsx)(yt.a,{align:"right",children:"Actions"})]})}),Object(Ce.jsx)(Ct.a,{children:i&&i.slice(m*v,m*v+v).map((function(e){return Object(Ce.jsxs)(vt.a,{hover:!0,role:"chckbox",tabIndex:-1,children:[Dt.map((function(t){t.id;var n=e[t.id];return Object(Ce.jsx)(yt.a,{align:t.align,children:n},t.id)})),Object(Ce.jsxs)(yt.a,{align:"right",children:[Object(Ce.jsx)(f.a,{onClick:function(t){return n=e.id,void C.push("".concat(N,"/").concat(n,"/edit"));var n},size:"small",children:Object(Ce.jsx)(St.a,{fontSize:"small"})}),Object(Ce.jsx)(f.a,{onClick:function(t){return n=e.id,void R.fire({title:"Are you sure you want to delete department?",showDenyButton:!0,confirmButtonText:"Yes",preConfirm:function(){console.log("left confirm"),w(n)}});var n},size:"small",children:Object(Ce.jsx)(wt.a,{fontSize:"small"})})]})]},e.id)}))})]})]}),Object(Ce.jsx)(Nt.a,{rowsPerPageOptions:[10,25,100],component:"div",count:i.length,rowsPerPage:v,page:m,onChangePage:function(e,t){h(t)},onChangeRowsPerPage:function(e){y(+e.target.value),h(0)}})]})]})},kt=Object(b.a)((function(e){return{root:{},form:{width:"70%",padding:"20px",marginTop:"40px"},textField:{width:"100%",marginBottom:"20px"}}})),At=function(e){var t=e.authUser;Ze({roles:ye.createDepartmentRoles});var n=Object(l.useState)({name:"",description:""}),a=Object(d.a)(n,2),i=a[0],c=a[1],r=Object(l.useState)(!1),s=Object(d.a)(r,2),o=s[0],b=s[1],m=Object(G.f)(),h=kt(),p=ie()(ne.a),g=function(e){var t=e.target,n=t.name,a=t.value;c(Object(j.a)(Object(j.a)({},i),{},Object(u.a)({},n,a)))};return Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},children:Ae(t.roles,ye.createDepartmentRoles)?Object(Ce.jsx)(f.a,{color:"primary",onClick:function(){m.goBack()},children:Object(Ce.jsx)(P.a,{})}):null}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px",display:"flex",flexDirection:"column"},children:[Object(Ce.jsx)(O.a,{variant:"h5",color:"textPrimary",children:"Create Department Form"}),Object(Ce.jsx)(C.a,{}),Object(Ce.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(Ce.jsxs)("form",{className:h.form,autoComplete:"off",onSubmit:function(e){var t;e.preventDefault(),b(!0),(t=i,new Promise((function(e,n){Fe({url:"/departments",method:"POST",data:t}).then((function(t){return e(t)})).catch((function(e){return n(e)}))}))).then((function(e){var t=e.status,n=(e.data,e.message);"CREATED"==t?p.fire({icon:"success",title:"Success",text:n||"Department Created Successfully",allowOutsideClick:!1,willClose:function(){c({name:"",description:""})}}):p.fire({icon:"error",title:"Failed!",text:n||"failed"})})).catch((function(e){})).finally((function(){b(!1)}))},children:[Object(Ce.jsx)(rt.a,{id:"department-name",label:"name",name:"name",value:i.name,variant:"outlined",className:h.textField,onChange:g}),Object(Ce.jsx)(rt.a,{id:"department-description",label:"description",name:"description",value:i.description,variant:"outlined",className:h.textField,onChange:g}),Object(Ce.jsxs)(x.a,{variant:"contained",color:"secondary",style:{float:"right"},type:"submit",disabled:o,children:[o?Object(Ce.jsx)(bt.a,{size:20}):null,Object(Ce.jsx)(O.a,{variant:"button",children:"Create Department"})]})]})})]})]})},Tt=Object(b.a)((function(e){return{root:{},form:{width:"70%",padding:"20px",marginTop:"40px"},textField:{width:"100%",marginBottom:"20px"}}})),qt=function(e){e.authUser;Ze({roles:ye.editDepartmentRoles});var t=Object(l.useState)({name:"",description:""}),n=Object(d.a)(t,2),a=n[0],i=n[1],c=Object(l.useState)(!1),r=Object(d.a)(c,2),s=r[0],o=r[1],b=Object(l.useState)(!1),m=Object(d.a)(b,2),h=m[0],p=m[1],g=Object(G.h)().departmentId,v=Object(l.useContext)(Ee),y=Object(G.f)(),N=(Object(G.i)().path,Tt()),E=ie()(ne.a),S=function(e){var t=e.target,n=t.name,c=t.value;i(Object(j.a)(Object(j.a)({},a),{},Object(u.a)({},n,c)))},R=function(){var e;o(!0),(e=parseInt(g),new Promise((function(t,n){Fe({url:"/departments/".concat(e),method:"GET"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))).then((function(e){var t=e.status,n=e.data,a=e.message;console.log("data",n),"OK"===t?n?i({name:n.name,description:n.description}):E.fire({icon:"error",title:"Failed",text:"Department Not Found"}):E.fire({icon:"error",title:"Failed",text:a||"Department Not Found"})})).catch((function(e){})).finally((function(){o(!1)}))};return Object(l.useEffect)((function(){return v.updateCurrentPage("DEPARTMENT/EDIT"),R(),function(){}}),[g]),Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},children:Object(Ce.jsx)(f.a,{color:"primary",onClick:function(){y.goBack()},children:Object(Ce.jsx)(P.a,{})})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px",display:"flex",flexDirection:"column"},children:[Object(Ce.jsx)(O.a,{variant:"h5",color:"textPrimary",children:"Edit Department"}),Object(Ce.jsx)(C.a,{}),s?Object(Ce.jsx)(Ot.a,{color:"secondary",style:{width:"100%"}}):null,Object(Ce.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(Ce.jsxs)("form",{className:N.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),console.log("payload",a);parseInt(g),a.name,a.description;p(!0),function(e,t){return new Promise((function(n,a){Fe({url:"/departments/".concat(e),method:"PUT",data:t}).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))}(parseInt(g),a).then((function(e){var t=e.status,n=(e.data,e.message);"SUCCESS"==t?E.fire({icon:"success",title:"Success",text:n||"Department Created Successfully",allowOutsideClick:!1,willClose:function(){i({name:"",description:""})}}):E.fire({icon:"error",title:"Failed!",text:n||"failed"})})).catch((function(e){})).finally((function(){p(!1)}))},children:[Object(Ce.jsx)(rt.a,{id:"department-name",label:"name",name:"name",value:a.name,variant:"outlined",className:N.textField,onChange:S}),Object(Ce.jsx)(rt.a,{id:"department-description",label:"description",name:"description",value:a.description,variant:"outlined",className:N.textField,onChange:S}),Object(Ce.jsxs)(x.a,{variant:"contained",color:"secondary",style:{float:"right"},type:"submit",disabled:h,children:[h?Object(Ce.jsx)(bt.a,{size:15}):null,Object(Ce.jsx)(O.a,{variant:"button",children:"Edit Department"})]})]})})]})]})},Ut="suppliers";function Mt(){return new Promise((function(e,t){Fe({url:"".concat(Ut),method:"GET"}).then((function(t){return e(t)})).catch((function(e){return t(e)}))}))}var Bt=[{id:"name",label:"Name",minWidth:170,align:"left"},{id:"phone_no",label:"Phone",minWidth:170,align:"left"},{id:"email",label:"Email",minWidth:170,align:"left"},{id:"location",label:"location",minWidth:170,align:"left"},{id:"description",label:"Description",minWidth:100,align:"left"}],Lt=Object(b.a)((function(e){return{headerBar:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center"},tableContainer:{maxHeight:440,padding:10}}})),Ht=function(e){var t=e.authUser;Ze({roles:ye.listSupplierRoles});var n=Object(l.useState)([]),a=Object(d.a)(n,2),i=a[0],c=a[1],r=Object(l.useState)(!1),s=Object(d.a)(r,2),o=s[0],u=s[1],j=Object(l.useState)(0),b=Object(d.a)(j,2),m=b[0],h=b[1],p=Object(l.useState)(10),g=Object(d.a)(p,2),v=g[0],y=g[1],C=Object(G.f)(),N=Object(G.i)().path,E=Lt(),S=Object(l.useContext)(Ee),R=ie()(ne.a),w=function(e){u(!0),function(e){return new Promise((function(t,n){Fe({url:"/".concat(Ut,"/").concat(e),method:"DELETE"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(e).then((function(t){var n=t.message;"OK"===t.status&&(c(i.filter((function(t){return t.id!=e}))),R.fire({icon:"success",title:"Success",text:n||"Deleted Successfully!"}))})).catch((function(e){})).finally((function(){u(!1)}))};return Object(l.useEffect)((function(){return S.updateCurrentPage("SUPPLIERS"),u(!0),Mt().then((function(e){var t=e.status,n=e.data;"SUCCESS"===t&&c(n),console.log("suppliers",i)})).catch((function(e){})).finally((function(){u(!1)})),function(){}}),[]),Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},"aria-label":"department bar",children:Object(Ce.jsx)("div",{className:E.headerBar,children:Object(Ce.jsx)(x.a,{variant:"contained",color:"primary",disabled:!Ae(t,ye.createSupplierRoles),disableElevation:!0,"aria-label":"Create Department Button",onClick:function(){C.push("".concat(N,"/create"))},children:Object(Ce.jsx)(O.a,{variant:"button",children:"New Supplier"})})})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px"},children:[Object(Ce.jsxs)(ft.a,{className:E.tableContainer,children:[o?Object(Ce.jsx)(Ot.a,{color:"secondary",style:{width:"100%"}}):null,Object(Ce.jsxs)(xt.a,{stickyHeader:!0,"aria-label":"list of departments table",children:[Object(Ce.jsx)(gt.a,{children:Object(Ce.jsxs)(vt.a,{children:[Bt.map((function(e){return Object(Ce.jsx)(yt.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)})),Object(Ce.jsx)(yt.a,{align:"right",children:"Actions"})]})}),Object(Ce.jsx)(Ct.a,{children:i&&i.slice(m*v,m*v+v).map((function(e){return Object(Ce.jsxs)(vt.a,{hover:!0,role:"chckbox",tabIndex:-1,children:[Bt.map((function(t){t.id;var n=e[t.id];return Object(Ce.jsx)(yt.a,{align:t.align,children:n},t.id)})),Object(Ce.jsxs)(yt.a,{align:"right",children:[Object(Ce.jsx)(f.a,{onClick:function(t){return n=e.id,void C.push("".concat(N,"/").concat(n,"/edit"));var n},size:"small",disabled:o,children:Object(Ce.jsx)(St.a,{fontSize:"small"})}),Object(Ce.jsx)(f.a,{onClick:function(t){return n=e.id,void R.fire({title:"Are you sure you want to delete supplier?",showDenyButton:!0,confirmButtonText:"Yes",preConfirm:function(){console.log("left confirm"),w(n)}});var n},size:"small",disabled:o,children:Object(Ce.jsx)(wt.a,{fontSize:"small"})})]})]},e.id)}))})]})]}),Object(Ce.jsx)(Nt.a,{rowsPerPageOptions:[10,25,100],component:"div",count:i.length,rowsPerPage:v,page:m,onChangePage:function(e,t){h(t)},onChangeRowsPerPage:function(e){y(+e.target.value),h(0)}})]})]})},Wt=Object(b.a)((function(e){return{root:{},form:{width:"70%",padding:"20px",marginTop:"40px"},textField:{width:"100%",marginBottom:"20px"}}})),Gt=function(e){e.authUser;var t=Object(l.useState)({name:"",description:"",email:"",phone_no:"",location:""}),n=Object(d.a)(t,2),a=n[0],i=n[1],c=Object(l.useState)(!1),r=Object(d.a)(c,2),s=r[0],o=r[1];Ze({roles:ye.createSupplierRoles});var b=Object(l.useContext)(Ee),m=Object(G.f)(),h=Wt(),p=ie()(ne.a),g=function(e){var t=e.target,n=t.name,c=t.value;i(Object(j.a)(Object(j.a)({},a),{},Object(u.a)({},n,c)))};return Object(l.useEffect)((function(){b.updateCurrentPage("SUPPLIERS / CREATE NEW")}),[]),Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},children:Object(Ce.jsx)(f.a,{color:"primary",onClick:function(){m.goBack()},children:Object(Ce.jsx)(P.a,{})})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px",display:"flex",flexDirection:"column"},children:[Object(Ce.jsx)(O.a,{variant:"h5",color:"textPrimary",children:"Create Supplier"}),Object(Ce.jsx)(C.a,{}),Object(Ce.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(Ce.jsxs)("form",{className:h.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),o(!0),function(e){return new Promise((function(t,n){Fe({url:"/".concat(Ut),method:"POST",data:e}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(a).then((function(e){var t=e.status,n=(e.data,e.message);"CREATED"==t?p.fire({icon:"success",title:"Success",text:n||"Department Created Successfully",allowOutsideClick:!1,willClose:function(){i({name:"",description:"",email:"",phone_no:"",location:""})}}):p.fire({icon:"error",title:"Failed!",text:n||"failed"})})).catch((function(e){})).finally((function(){o(!1)}))},children:[Object(Ce.jsx)(rt.a,{id:"department-name",label:"Name",name:"name",value:a.name,variant:"outlined",className:h.textField,onChange:g}),Object(Ce.jsx)(rt.a,{id:"phone_no",label:"Phone",name:"phone_no",value:a.phone_no,variant:"outlined",className:h.textField,onChange:g}),Object(Ce.jsx)(rt.a,{id:"email",label:"Email",name:"email",value:a.email,variant:"outlined",className:h.textField,onChange:g}),Object(Ce.jsx)(rt.a,{id:"location",label:"Location",name:"location",value:a.location,variant:"outlined",className:h.textField,onChange:g}),Object(Ce.jsx)(rt.a,{id:"department-description",label:"Description",name:"description",value:a.description,variant:"outlined",className:h.textField,onChange:g}),Object(Ce.jsxs)(x.a,{variant:"contained",color:"secondary",style:{float:"right"},type:"submit",disabled:s||!(a.name&&a.description&&a.email&&a.phone_no&&a.location),children:[s?Object(Ce.jsx)(bt.a,{size:20}):null,Object(Ce.jsx)(O.a,{variant:"button",children:"Create Department"})]})]})})]})]})},zt=Object(b.a)((function(e){return{root:{},form:{width:"70%",padding:"20px",marginTop:"40px"},textField:{width:"100%",marginBottom:"20px"}}})),_t=function(e){e.authUser;var t=Object(l.useState)({name:"",description:"",phone_no:"",email:"",location:""}),n=Object(d.a)(t,2),a=n[0],i=n[1],c=Object(l.useState)(!1),r=Object(d.a)(c,2),s=r[0],o=r[1],b=Object(l.useState)(!1),m=Object(d.a)(b,2),h=m[0],p=m[1];Ze({roles:ye.editSupplierRoles});var g=Object(l.useContext)(Ee),v=Object(G.h)().supplierId,y=Object(G.f)(),N=(Object(G.i)().path,zt()),E=ie()(ne.a),S=function(e){var t=e.target,n=t.name,c=t.value;i(Object(j.a)(Object(j.a)({},a),{},Object(u.a)({},n,c)))},R=function(){var e;o(!0),(e=parseInt(v),new Promise((function(t,n){Fe({url:"/".concat(Ut,"/").concat(e),method:"GET"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))).then((function(e){var t=e.status,n=e.data,a=e.message;console.log("data",n),"OK"===t?n?i({name:n.name,description:n.description,phone_no:n.phone_no,email:n.email,location:n.location}):E.fire({icon:"error",title:"Failed",text:"Department Not Found"}):E.fire({icon:"error",title:"Failed",text:a||"Department Not Found"})})).catch((function(e){})).finally((function(){o(!1)}))};return Object(l.useEffect)((function(){return g.updateCurrentPage("SUPPLIERS / EDIT"),R(),function(){}}),[v]),Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},children:Object(Ce.jsx)(f.a,{color:"primary",onClick:function(){y.goBack()},children:Object(Ce.jsx)(P.a,{})})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px",display:"flex",flexDirection:"column"},children:[Object(Ce.jsx)(O.a,{variant:"h5",color:"textPrimary",children:"Edit Supplier Form"}),Object(Ce.jsx)(C.a,{}),s?Object(Ce.jsx)(Ot.a,{color:"secondary",style:{width:"100%"}}):null,Object(Ce.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(Ce.jsxs)("form",{className:N.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),console.log("payload",a);parseInt(v),a.name,a.description;p(!0),function(e,t){return new Promise((function(n,a){Fe({url:"/".concat(Ut,"/").concat(e),method:"PUT",data:t}).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))}(parseInt(v),a).then((function(e){var t=e.status,n=(e.data,e.message);"SUCCESS"==t?E.fire({icon:"success",title:"Success",text:n||"Supplier Created Successfully",allowOutsideClick:!1,willClose:function(){}}):E.fire({icon:"error",title:"Failed!",text:n||"failed"})})).catch((function(e){})).finally((function(){p(!1)}))},children:[Object(Ce.jsx)(rt.a,{id:"department-name",label:"name",name:"name",value:a.name,variant:"outlined",className:N.textField,onChange:S}),Object(Ce.jsx)(rt.a,{id:"phone_no",label:"Phone",name:"phone_no",value:a.phone_no,variant:"outlined",className:N.textField,onChange:S}),Object(Ce.jsx)(rt.a,{id:"email",label:"Email",name:"email",value:a.email,variant:"outlined",className:N.textField,onChange:S}),Object(Ce.jsx)(rt.a,{id:"location",label:"Location",name:"location",value:a.location,variant:"outlined",className:N.textField,onChange:S}),Object(Ce.jsx)(rt.a,{id:"department-description",label:"description",name:"description",value:a.description,variant:"outlined",className:N.textField,onChange:S}),Object(Ce.jsxs)(x.a,{variant:"contained",color:"secondary",style:{float:"right"},type:"submit",disabled:h||!(a.name&&a.description&&a.email&&a.phone_no&&a.location),children:[h?Object(Ce.jsx)(bt.a,{size:15}):null,Object(Ce.jsx)(O.a,{variant:"button",children:"Edit Supplier"})]})]})})]})]})},Kt="employees";var Vt=[{id:"fullName",label:"Name",minWidth:170,align:"left",format:function(e){return e.toUpperCase()}},{id:"phoneNo",label:"Phone",minWidth:170,align:"left"},{id:"email",label:"Email",minWidth:170,align:"left"},{id:"department",label:"Department",minWidth:100,align:"left",format:function(e){return(e||{}).name}},{id:"roles",label:"Role",minWidth:100,align:"left"},{id:"enabled",label:"Status",align:"left",format:function(e){return e?"Active":"Disabled"}}],Qt=Object(b.a)((function(e){return{headerBar:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center"},tableContainer:{maxHeight:440,padding:10}}})),Yt=function(){var e=Object(l.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)(!1),c=Object(d.a)(i,2),r=c[0],s=c[1],o=Object(l.useState)(0),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(l.useState)(10),h=Object(d.a)(m,2),p=h[0],g=h[1],v=Object(l.useContext)(Ee),y=Object(l.useContext)(Ge);Ze({roles:ye.listUserRoles});var C=Object(G.f)(),N=Object(G.i)().path,E=Qt(),S=ie()(ne.a),R=function(e){s(!0),function(e){return new Promise((function(t,n){Fe({url:"/".concat(Kt,"/").concat(e),method:"DELETE"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(e).then((function(t){var i=t.message;"OK"==t.status?(a(n.filter((function(t){return t.id!==e}))),S.fire({icon:"success",title:"Success",text:i||"Deleted Successfully!"})):S.fire({icon:"error",title:"Failed",text:i||"Delete Failed!"})})).catch((function(e){})).finally((function(){s(!1)}))},w=function(){s(!0),new Promise((function(e,t){Fe({url:"".concat(Kt),method:"GET"}).then((function(t){return e(t)})).catch((function(e){return t(e)}))})).then((function(e){var t=e.status,n=e.data;"SUCCESS"===t&&a(n)})).catch((function(e){})).finally((function(){s(!1)}))};return Object(l.useEffect)((function(){v.updateCurrentPage("USERS"),w()}),[]),Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},"aria-label":"department bar",children:Object(Ce.jsx)("div",{className:E.headerBar,children:Ae(y.user.roles,ye.createUserRoles)?Object(Ce.jsx)(x.a,{variant:"contained",color:"primary",disableElevation:!0,"aria-label":"Create Department Button",onClick:function(){C.push("".concat(N,"/create"))},children:Object(Ce.jsx)(O.a,{variant:"button",children:"New User"})}):null})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px"},children:[Object(Ce.jsxs)(ft.a,{className:E.tableContainer,children:[r?Object(Ce.jsx)(Ot.a,{color:"secondary",style:{width:"100%"}}):null,Object(Ce.jsxs)(xt.a,{stickyHeader:!0,"aria-label":"list of departments table",children:[Object(Ce.jsx)(gt.a,{children:Object(Ce.jsxs)(vt.a,{children:[Vt.map((function(e){return Object(Ce.jsx)(yt.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)})),Object(Ce.jsx)(yt.a,{align:"right",children:"Actions"})]})}),Object(Ce.jsx)(Ct.a,{children:n&&n.slice(j*p,j*p+p).map((function(e){return Object(Ce.jsxs)(vt.a,{hover:!0,role:"chckbox",tabIndex:-1,children:[Vt.map((function(t){var n=e[t.id];return Object(Ce.jsx)(yt.a,{align:t.align,children:t.format?t.format(n)||"--":n||"--"},t.id)})),Object(Ce.jsxs)(yt.a,{align:"right",children:[Object(Ce.jsx)(f.a,{onClick:function(t){return n=e.id,void C.push("".concat(N,"/").concat(n,"/edit"));var n},size:"small",disabled:r,children:Object(Ce.jsx)(St.a,{fontSize:"small"})}),Object(Ce.jsx)(f.a,{onClick:function(t){return n=e.id,void S.fire({title:"Are you sure you want to delete supplier?",showDenyButton:!0,confirmButtonText:"Yes",preConfirm:function(){console.log("left confirm"),R(n)}});var n},size:"small",disabled:r,children:Object(Ce.jsx)(wt.a,{fontSize:"small"})})]})]},e.id)}))})]})]}),Object(Ce.jsx)(Nt.a,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:p,page:j,onChangePage:function(e,t){b(t)},onChangeRowsPerPage:function(e){g(+e.target.value),b(0)}})]})]})},Jt=n(522),Xt=n(563),Zt=n(554),$t=Object(b.a)((function(e){return{root:{},form:{width:"70%",padding:"20px",marginTop:"40px"},textField:{width:"100%",marginBottom:"20px"}}})),en=function(){var e=Object(l.useState)({firstName:"",lastName:"",phoneNo:"",email:"",roles:le.REGULAR,employeeId:"",departmentId:""}),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)(!1),c=Object(d.a)(i,2),r=c[0],s=c[1],o=Object(l.useState)([]),b=Object(d.a)(o,2),m=b[0],h=b[1];Ze({roles:ye.createUserRoles});var p=Object(l.useContext)(Ee),g=Object(G.f)(),v=$t(),y=ie()(ne.a),N=function(e){var t=e.target,i=t.name,c=t.value;a(Object(j.a)(Object(j.a)({},n),{},Object(u.a)({},i,c)))},E=function(e){var t=e.target,i=t.name;console.log("event",e.target.value),a(Object(j.a)(Object(j.a)({},n),{},Object(u.a)({},i,t.value)))};return Object(l.useEffect)((function(){return p.updateCurrentPage("USERS / CREATE"),Pt().then((function(e){var t=e.data,i=e.status;e.message,"OK"==i&&(h(t),a(Object(j.a)(Object(j.a)({},n),{},{departmentId:t[0].id})))})).catch((function(e){})),function(){}}),[]),Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},children:Object(Ce.jsx)(f.a,{color:"primary",onClick:function(){g.goBack()},children:Object(Ce.jsx)(P.a,{})})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px",display:"flex",flexDirection:"column"},children:[Object(Ce.jsx)(O.a,{variant:"h5",color:"textPrimary",children:"Create User Form"}),Object(Ce.jsx)(C.a,{}),Object(Ce.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(Ce.jsxs)("form",{className:v.form,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t=m.find((function(e){return e.id==n.departmentId})),i={email:n.email,phoneNo:n.phoneNo,firstName:n.firstName,lastName:n.lastName,employeeLevel:n.roles,department:t,employeeId:n.employeeId,password:"password"};s(!0),function(e){return new Promise((function(t,n){Fe({url:"/auth/admin/signup",method:"POST",data:e}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(i).then((function(e){var t=e.status,n=(e.data,e.message);"CREATED"==t?y.fire({icon:"success",title:"Success",text:n||"User Created Successfully",allowOutsideClick:!1,willClose:function(){a({email:"",phoneNo:"",firstName:"",lastName:"",departmentId:m[0].id,employeeId:"",roles:le.REGULAR})}}):y.fire({icon:"error",title:"Failed!",text:n||"failed"})})).catch((function(e){})).finally((function(){s(!1)}))},children:[Object(Ce.jsx)(rt.a,{id:"firstName",label:"First Name",name:"firstName",value:n.firstName,variant:"outlined",className:v.textField,onChange:N}),Object(Ce.jsx)(rt.a,{id:"lastName",label:"Last Name",name:"lastName",value:n.lastName,variant:"outlined",className:v.textField,onChange:N}),Object(Ce.jsx)(rt.a,{id:"phoneNo",label:"Phone",name:"phoneNo",value:n.phoneNo,variant:"outlined",className:v.textField,onChange:N}),Object(Ce.jsx)(rt.a,{id:"email",label:"Email",name:"email",value:n.email,variant:"outlined",className:v.textField,onChange:N}),Object(Ce.jsx)(rt.a,{id:"email",label:"Employee ID",name:"employeeId",value:n.employeeId,variant:"outlined",className:v.textField,onChange:N}),Object(Ce.jsxs)(Jt.a,{variant:"outlined",className:v.textField,children:[Object(Ce.jsx)(Xt.a,{htmlFor:"outlined-age-native-simple",children:"Department"}),Object(Ce.jsx)(Zt.a,{native:!0,value:n.departmentId,onChange:E,label:"Department",name:"departmentId",children:m&&m.map((function(e){return Object(Ce.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(Ce.jsxs)(Jt.a,{variant:"outlined",className:v.textField,children:[Object(Ce.jsx)(Xt.a,{htmlFor:"outlined-age-native-simple",children:"LEVEL"}),Object(Ce.jsx)(Zt.a,{native:!0,value:n.roles,onChange:E,label:"Role",name:"roles",children:me.map((function(e){return Object(Ce.jsx)("option",{value:e.id,children:e.label},e.id)}))})]}),Object(Ce.jsxs)(x.a,{variant:"contained",color:"secondary",style:{float:"right"},type:"submit",children:[r?Object(Ce.jsx)(bt.a,{}):null,Object(Ce.jsx)(O.a,{variant:"button",children:"Create User"})]})]})})]})]})},tn=Object(b.a)((function(e){return{root:{},form:{width:"70%",padding:"20px",marginTop:"40px"},textField:{width:"100%",marginBottom:"20px"}}})),nn=function(){var e=Object(l.useState)({firstName:"",lastName:"",phoneNo:"",email:"",roles:le.REGULAR,employeeId:"",departmentId:""}),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)([]),c=Object(d.a)(i,2),r=c[0],s=c[1],o=Object(l.useState)(!1),b=Object(d.a)(o,2),m=b[0],h=b[1],p=Object(G.h)().userId,g=Object(l.useContext)(Ee),v=Object(G.f)(),y=tn(),N=ie()(ne.a),E=function(e){var t=e.target,i=t.name,c=t.value;a(Object(j.a)(Object(j.a)({},n),{},Object(u.a)({},i,c)))},S=function(e){var t=e.target,i=t.name;console.log("event",e.target.value),a(Object(j.a)(Object(j.a)({},n),{},Object(u.a)({},i,t.value)))},R=function(){var e;h(!0),(e=parseInt(p),new Promise((function(t,n){Fe({url:"/".concat(Kt,"/").concat(e),method:"GET"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))).then((function(e){var t=e.status,n=e.data,i=e.message;console.log("data",n),"SUCCESS"===t?n?a({email:n.email,phoneNo:n.phoneNo,firstName:n.firstName,lastName:n.lastName,departmentId:n.department,employeeId:n.employeeId,roles:n.employeeLevel}):N.fire({icon:"error",title:"Failed",text:"Department Not Found"}):N.fire({icon:"error",title:"Failed",text:i||"Department Not Found"})})).catch((function(e){})).finally((function(){h(!1)}))};return Ze({roles:ye.editUserRoles}),Object(l.useEffect)((function(){return g.updateCurrentPage("USERS / EDIT"),R(),Pt().then((function(e){var t=e.data;"OK"==e.status&&s(t)})).catch((function(e){})),function(){}}),[p]),Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},children:Object(Ce.jsx)(f.a,{color:"primary",onClick:function(){v.goBack()},children:Object(Ce.jsx)(P.a,{})})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px",display:"flex",flexDirection:"column"},children:[Object(Ce.jsx)(O.a,{variant:"h5",color:"textPrimary",children:"Edit User"}),Object(Ce.jsx)(C.a,{}),m?Object(Ce.jsx)(Ot.a,{color:"secondary",style:{width:"100%"}}):null,Object(Ce.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(Ce.jsxs)("form",{className:y.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),console.log("payload",n);var t={id:parseInt(p),firstName:n.firstName,lastName:n.lastName,email:n.email,phoneNo:n.phoneNo,employeeId:n.employeeId,roles:n.roles,departmentId:n.departmentId};(function(e,t){return new Promise((function(n,a){Fe({url:"/".concat(Kt,"/").concat(e),method:"PUT",data:t}).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))})(parseInt(p),t).then((function(e){var t=e.status,n=(e.data,e.message);"CREATED"==t?N.fire({icon:"success",title:"Success",text:n||"Supplier Created Successfully",allowOutsideClick:!1}):N.fire({icon:"error",title:"Failed!",text:n||"failed"})})).catch((function(e){de("Update User",e)}))},children:[Object(Ce.jsx)(rt.a,{id:"firstName",label:"First Name",name:"firstName",value:n.firstName,variant:"outlined",className:y.textField,onChange:E}),Object(Ce.jsx)(rt.a,{id:"lastName",label:"Last Name",name:"lastName",value:n.lastName,variant:"outlined",className:y.textField,onChange:E}),Object(Ce.jsx)(rt.a,{id:"phoneNo",label:"Phone",name:"phoneNo",value:n.phoneNo,variant:"outlined",className:y.textField,onChange:E}),Object(Ce.jsx)(rt.a,{id:"email",label:"Email",name:"email",value:n.email,variant:"outlined",className:y.textField,onChange:E}),Object(Ce.jsx)(rt.a,{id:"employeeId",label:"Employee ID",name:"employeeId",value:n.employeeId,variant:"outlined",className:y.textField,onChange:E}),Object(Ce.jsxs)(Jt.a,{variant:"outlined",className:y.textField,children:[Object(Ce.jsx)(Xt.a,{htmlFor:"outlined-age-native-simple",children:"Department"}),Object(Ce.jsx)(Zt.a,{native:!0,value:n.departmentId,onChange:S,label:"Department",name:"departmentId",children:r&&r.map((function(e){return Object(Ce.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(Ce.jsxs)(Jt.a,{variant:"outlined",className:y.textField,children:[Object(Ce.jsx)(Xt.a,{htmlFor:"outlined-age-native-simple",children:"LEVEL"}),Object(Ce.jsx)(Zt.a,{native:!0,value:n.roles,onChange:S,label:"Employee Level",name:"roles",children:me.map((function(e){return Object(Ce.jsx)("option",{value:e.id,children:e.label},e.id)}))})]}),Object(Ce.jsx)(x.a,{variant:"contained",color:"secondary",style:{float:"right"},type:"submit",disabled:m||!(n.firstName&&n.lastName&&n.roles&&n.departmentId&&n.phoneNo&&n.email),children:Object(Ce.jsx)(O.a,{variant:"button",children:"Edit Supplier"})})]})})]})]})},an=n(285);var cn,rn=n(540),ln=n(541),sn=n(542);!function(e){e.Replace="Replace",e.Restock="Restock",e.FreshNeed="FreshNeed"}(cn||(cn={}));var on=[{id:"Replace",label:"REPLACE"},{id:"Restock",label:"RESTOCK"},{id:"FreshNeed",label:"FRESH NEED"}],dn=Object(b.a)((function(e){return{root:{},form:{width:"100% !important",backgroundColor:"yellow"},textField:{width:"100%",marginBottom:"20px"},tableContainer:{maxHeight:440,padding:10}}})),un=[{id:"name",label:"Name",align:"left"},{id:"reason",label:"Reason",align:"left"},{id:"purpose",label:"Purpose",align:"left"},{id:"quantity",label:"Quantity",align:"left"}],jn=function(){var e=Object(l.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)({name:"",reason:cn.FreshNeed,purpose:"",quantity:0}),c=Object(d.a)(i,2),r=c[0],s=c[1],o=Object(l.useState)(!1),b=Object(d.a)(o,2),m=b[0],h=b[1],p=Object(l.useState)(!1),g=Object(d.a)(p,2),v=g[0],y=g[1],N=Object(G.f)(),E=dn(),S=ie()(ne.a),R=function(e){var t=e.target,n=t.name,a=t.value;s(Object(j.a)(Object(j.a)({},r),{},Object(u.a)({},n,a)))},w=function(){var e,t={multipleRequestItem:n.map((function(e){return{name:e.name,reason:e.reason,purpose:e.purpose,quantity:e.quantity}})),employee_id:ke().id};h(!0),(e=t,console.log("payload",e),new Promise((function(t,n){Fe({url:"/multipleRequestItems",method:"POST",data:e}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))).then((function(e){e.data;var t=e.status,n=e.message;"OK"===t&&(a([]),oe("Send Request",n||"Request Sent!"))})).catch((function(e){de("Failed",e)})).finally((function(){h(!1)}))},D=function(){y(!1)};return Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},children:Object(Ce.jsx)(f.a,{color:"primary",onClick:function(){N.goBack()},children:Object(Ce.jsx)(P.a,{})})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px",display:"flex",flexDirection:"column"},children:[Object(Ce.jsxs)(Ve.a,{container:!0,style:{padding:5},children:[Object(Ce.jsx)(Ve.a,{item:!0,md:6,lg:6,sm:6,children:Object(Ce.jsx)(O.a,{variant:"h5",color:"textPrimary",children:"Request Form"})}),Object(Ce.jsx)(Ve.a,{item:!0,md:6,lg:6,sm:6,style:{textAlign:"right"},children:Object(Ce.jsxs)(x.a,{variant:"outlined",color:"primary",onClick:function(){y(!0)},children:[Object(Ce.jsx)(rn.a,{fontSize:"small"})," Add Entry"]})})]}),Object(Ce.jsx)(C.a,{}),Object(Ce.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(Ce.jsx)(ft.a,{className:E.tableContainer,children:Object(Ce.jsxs)(xt.a,{stickyHeader:!0,"aria-label":"new request entries table",children:[Object(Ce.jsx)(gt.a,{children:Object(Ce.jsxs)(vt.a,{children:[un.map((function(e){return Object(Ce.jsx)(yt.a,{children:e.label},e.id)})),Object(Ce.jsx)(yt.a,{children:"Actions"})]})}),Object(Ce.jsx)(Ct.a,{children:n&&n.map((function(e,t){return Object(Ce.jsxs)(vt.a,{children:[un.map((function(t){var n=e[t.id];return Object(Ce.jsx)(yt.a,{align:t.align,children:n},t.id)})),Object(Ce.jsx)(yt.a,{children:Object(Ce.jsx)(f.a,{color:"secondary",onClick:function(){return function(e){a(n.filter((function(t,n){return e!=n})))}(t)},children:Object(Ce.jsx)(ln.a,{})})})]},t)}))})]})}),Object(Ce.jsx)(Ve.a,{container:!0,style:{marginTop:"10px"},children:Object(Ce.jsx)(Ve.a,{item:!0,md:12,style:{textAlign:"right"},children:Object(Ce.jsxs)(x.a,{variant:"contained",color:"secondary",disabled:!(n.length>0)||m,onClick:function(e){e.preventDefault(),S.fire({title:"Are you sure you send request?",showDenyButton:!0,confirmButtonText:"Yes",preConfirm:function(){w()}})},children:[m?Object(Ce.jsx)(bt.a,{size:20}):null,Object(Ce.jsx)(sn.a,{})," ",Object(Ce.jsx)("span",{style:{marginLeft:"5px"},children:"Send Request"})]})})})]})]}),Object(Ce.jsxs)(ot.a,{onClose:D,"aria-labelledby":"dialog-title",open:v,style:{width:"100%"},children:[Object(Ce.jsx)(dt.a,{children:"Request Entry"}),Object(Ce.jsx)(ut.a,{dividers:!0,children:Object(Ce.jsxs)("div",{style:{width:"400px"},children:[Object(Ce.jsxs)(Jt.a,{variant:"outlined",className:E.textField,children:[Object(Ce.jsx)(Xt.a,{htmlFor:"outlined-age-native-simple",children:"Department"}),Object(Ce.jsx)(Zt.a,{native:!0,value:r.reason,onChange:function(e){var t=e.target,n=t.name;console.log("event",e.target.value),s(Object(j.a)(Object(j.a)({},r),{},Object(u.a)({},n,t.value)))},label:"Reason",name:"reason",children:on.map((function(e){return Object(Ce.jsx)("option",{value:e.id,children:e.label},e.id)}))})]}),Object(Ce.jsx)(rt.a,{id:"item-name",label:"Item Name",name:"name",value:r.name,autoComplete:"off",variant:"outlined",className:E.textField,onChange:R}),Object(Ce.jsx)(rt.a,{id:"purpose",label:"Purpose",name:"purpose",value:r.purpose,autoComplete:"off",variant:"outlined",className:E.textField,onChange:R}),Object(Ce.jsx)(rt.a,{id:"quantity",label:"Quantity",name:"quantity",value:r.quantity,autoComplete:"off",type:"number",variant:"outlined",className:E.textField,onChange:R}),Object(Ce.jsxs)(Ve.a,{container:!0,children:[Object(Ce.jsx)(Ve.a,{item:!0,md:6,children:Object(Ce.jsx)(x.a,{variant:"contained",color:"secondary",style:{float:"left"},onClick:D,children:"Cancel"})}),Object(Ce.jsx)(Ve.a,{item:!0,md:6,children:Object(Ce.jsx)(x.a,{variant:"contained",color:"primary",style:{float:"right"},onClick:function(){var e={name:r.name,reason:r.reason,purpose:r.purpose,quantity:r.quantity};a([].concat(Object(an.a)(n),[e])),s({name:"",reason:cn.FreshNeed,purpose:"",quantity:0})},disabled:!(r.name&&r.reason&&r.purpose&&!(r.quantity<=0)),children:"Add Entry"})})]})]})})]})]})},bn=n(547),mn=[{id:"name",label:"Name",minWidth:170,align:"left"},{id:"reason",label:"Reason",minWidth:100,align:"left"},{id:"quantity",label:"Quantity",minWidth:100,align:"left"},{id:"endorsement",label:"Endorsed",minWidth:100,align:"left"},{id:"requestDate",label:"Date Requested",minWidth:100,align:"left",format:function(e){return ue(e)}},{id:"status",label:"Status",minWidth:100,align:"left"}],hn=Object(b.a)((function(e){return{headerBar:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},tableContainer:{maxHeight:440,padding:10}}})),pn=function(){var e=Object(l.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)(!1),c=Object(d.a)(i,2),r=(c[0],c[1]),s=Object(l.useState)(0),o=Object(d.a)(s,2),u=o[0],j=o[1],b=Object(l.useState)(10),m=Object(d.a)(b,2),h=m[0],p=m[1],f=Object(G.f)(),g=Object(G.i)().path,v=hn(),y=ke(),C=Object(l.useContext)(Ee),N=function(){var e;r(!0),(e=y.id,new Promise((function(t,n){Fe({url:"/requestItems/employees/".concat(e),method:"get"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))).then((function(e){var t=e.status,i=e.data;console.log("res",i),"FOUND"===t&&a(i),console.log("requests",n)})).catch((function(e){de("My requests","Failed to Fetch Requests!")})).finally((function(){r(!1)}))};return Object(l.useEffect)((function(){return C.updateCurrentPage("My Requests"),N(),function(){}}),[]),Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},"aria-label":"department bar",children:Object(Ce.jsxs)("div",{className:v.headerBar,children:[Object(Ce.jsx)(O.a,{variant:"h6",children:"My Requests"}),Object(Ce.jsx)(x.a,{variant:"contained",color:"primary",disableElevation:!0,"aria-label":"Create Department Button",onClick:function(){f.push("".concat(g,"/create"))},children:Object(Ce.jsx)(O.a,{variant:"button",children:"New Request"})})]})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px"},children:[Object(Ce.jsx)(ft.a,{className:v.tableContainer,children:Object(Ce.jsxs)(xt.a,{stickyHeader:!0,"aria-label":"list of departments table",children:[Object(Ce.jsx)(gt.a,{children:Object(Ce.jsx)(vt.a,{children:mn.map((function(e){return Object(Ce.jsx)(yt.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(Ce.jsx)(Ct.a,{children:n&&n.slice(u*h,u*h+h).map((function(e){return Object(Ce.jsx)(vt.a,{hover:!0,role:"checkbox",tabIndex:-1,children:mn.map((function(t){t.id;var n=e[t.id],a=t.format?t.format(n):n;return Object(Ce.jsx)(yt.a,{align:t.align,children:"status"===t.id?Object(Ce.jsx)("span",{style:{backgroundColor:je(n),padding:"5px",borderRadius:"10px",color:"#ffffff"},children:a}):a},t.id)}))},e.id)}))})]})}),Object(Ce.jsx)(Nt.a,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:h,page:u,onChangePage:function(e,t){j(t)},onChangeRowsPerPage:function(e){p(+e.target.value),j(0)}})]})]})},fn=n(543),On=n(544),xn=[{id:"name",label:"Name",minWidth:170,align:"left"},{id:"quantity",label:"Quantity",align:"left"},{id:"reason",label:"Reason",minWidth:100,align:"left"},{id:"purpose",label:"Purpose",minWidth:100,align:"left"},{id:"requestDate",label:"Date Requested",minWidth:100,align:"left",format:function(e){return ue(e)}},{id:"endorsement",label:"Endorsed",minWidth:100,align:"left"}],gn=Object(b.a)((function(e){return{headerBar:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},tableContainer:{maxHeight:440,padding:10}}})),vn=function(){var e=Object(l.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1],c=Object(l.useState)(!1),r=Object(d.a)(c,2),s=r[0],o=r[1],u=Object(l.useState)(0),j=Object(d.a)(u,2),b=j[0],m=j[1],h=Object(l.useState)(10),p=Object(d.a)(h,2),g=p[0],v=p[1],y=ie()(ne.a),C=Object(G.f)(),N=Object(G.i)().path,E=gn(),S=ke(),R=Object(l.useContext)(Ee),w=function(e){o(!0),function(e,t){return new Promise((function(n,a){Fe({url:"/requestItems/".concat(e,"/employees/").concat(t,"/endorse"),method:"put",data:{}}).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))}(e,S.id).then((function(t){var a=t.status,c=t.message;"OK"===a?(i(n.filter((function(t){return t.id!=e}))),oe("Endorse Request",c)):de("Endorse Request",c)})).catch((function(e){})).finally((function(){return o(!1)}))},P=function(e){o(!0),function(e,t){return new Promise((function(n,a){Fe({url:"/requestItems/".concat(e,"/employees/").concat(t,"/cancel"),method:"put",data:{}}).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))}(e,S.id).then((function(t){var a=t.status,c=t.message;"OK"===a?(i(n.filter((function(t){return t.id!=e}))),oe("Cancel Request",c)):de("Cancel Request",c)})).catch((function(e){})).finally((function(){return o(!1)}))},D=function(){var e,t;o(!0),(e=S.department.id,t=S.id,new Promise((function(n,a){Fe({url:"/requestItems/departments/".concat(e,"/employees/").concat(t),method:"get"}).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))).then((function(e){var t=e.status,a=e.data;console.log("res",a),"SUCCESS"===t&&i(a),console.log("requests",n)})).catch((function(e){de("My requests","Failed to Fetch Requests!")})).finally((function(){o(!1)}))};return Object(l.useEffect)((function(){return R.updateCurrentPage("HOD ITEM REQUESTS"),D(),function(){}}),[]),Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},"aria-label":"department bar",children:Object(Ce.jsxs)("div",{className:E.headerBar,children:[Object(Ce.jsx)(O.a,{variant:"h6",children:"My Requests"}),Object(Ce.jsx)(x.a,{variant:"contained",color:"primary",disableElevation:!0,"aria-label":"Create Department Button",onClick:function(){C.push("".concat(N,"/create"))},children:Object(Ce.jsx)(O.a,{variant:"button",children:"New Request"})})]})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px"},children:[Object(Ce.jsxs)(ft.a,{className:E.tableContainer,children:[s?Object(Ce.jsx)(Ot.a,{color:"secondary",style:{width:"100%"}}):null,Object(Ce.jsxs)(xt.a,{stickyHeader:!0,"aria-label":"list of departments table",children:[Object(Ce.jsx)(gt.a,{children:Object(Ce.jsxs)(vt.a,{children:[xn.map((function(e){return Object(Ce.jsx)(yt.a,{align:e.align,style:{minWidth:e.minWidth,maxWidth:e.maxWidth},children:e.label},e.id)})),Object(Ce.jsx)(yt.a,{align:"right",children:"Actions"})]})}),Object(Ce.jsx)(Ct.a,{children:n&&n.slice(b*g,b*g+g).map((function(e){return Object(Ce.jsxs)(vt.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[xn.map((function(t){t.id;var n=e[t.id],a=t.format?t.format(n):n;return Object(Ce.jsx)(yt.a,{align:t.align,children:"status"===t.id?Object(Ce.jsx)("span",{style:{backgroundColor:je(n),padding:"5px",borderRadius:"10px",color:"#ffffff"},children:a}):a},t.id)})),Object(Ce.jsx)(yt.a,{align:"right",children:Object(Ce.jsxs)("div",{style:{minWidth:"150px"},children:[Object(Ce.jsx)(f.a,{disabled:e.endorsement!==a.PENDING,size:"small",onClick:function(){return t=e.id,void y.fire({title:"Are you sure you want to endorse request?",showDenyButton:!0,confirmButtonText:"Yes",preConfirm:function(){console.log("left confirm"),w(t)}});var t},style:{backgroundColor:"#18ab30",marginRight:"5px",color:"#ffffff"},children:Object(Ce.jsx)(fn.a,{})}),Object(Ce.jsx)(f.a,{disabled:e.endorsement!==a.PENDING,size:"small",onClick:function(){return t=e.id,void y.fire({title:"Are you sure you want to Cancel request?",showDenyButton:!0,confirmButtonText:"Yes",preConfirm:function(){console.log("left confirm"),P(t)}});var t},style:{backgroundColor:"#fc0b03",color:"#ffffff"},children:Object(Ce.jsx)(On.a,{})})]})})]},e.id)}))})]})]}),Object(Ce.jsx)(Nt.a,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:g,page:b,onChangePage:function(e,t){m(t)},onChangeRowsPerPage:function(e){v(+e.target.value),m(0)}})]})]})},yn=Object(b.a)((function(e){return{root:{minHeight:"500px",width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}}})),Cn=function(){var e=yn();return Object(Ce.jsx)("div",{className:e.root,children:Object(Ce.jsx)("div",{style:{padding:"10px",borderRadius:"20px",backgroundColor:"#ccc8c8"},children:Object(Ce.jsx)(O.a,{variant:"h5",children:"USER NOT AUTHORIZED"})})})},Nn=[{id:"name",label:"Name",minWidth:170,align:"left"},{id:"quantity",label:"Quantity",minWidth:100,align:"left"},{id:"unitPrice",label:"Unit Price",minWidth:100,align:"left"},{id:"amount",label:"Amount",minWidth:100,align:"left",format:function(e){return"".concat("GHS"," ").concat(e)}},{id:"reason",label:"Reason",minWidth:100,align:"left"},{id:"purpose",label:"Purpose",minWidth:100,align:"left"},{id:"supplier",label:"Supplier",format:function(e){return e.name}},{id:"requestDate",label:"Date Requested",minWidth:100,align:"left",format:function(e){return ue(e)}}],En=Object(b.a)((function(e){return{headerBar:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},tableContainer:{maxHeight:440,padding:10}}})),Sn=function(){var e=Object(l.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)(!1),c=Object(d.a)(i,2),r=c[0],s=c[1],o=Object(l.useState)(0),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(l.useState)(10),h=Object(d.a)(m,2),p=h[0],f=h[1],g=ie()(ne.a),v=En(),y=Object(l.useContext)(Ee),C=Object(l.useContext)(Ge),N=function(e,t){s(!0),function(e,t){return new Promise((function(n,a){Fe({url:"/requestItems/".concat(e,"/employees/").concat(t,"/approve"),method:"put",data:{}}).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))}(e,t).then((function(t){var i=t.status,c=t.message;"OK"===i?(a(n.filter((function(t){return t.id!=e}))),oe("Endorse Request",c)):de("Endorse Request",c)})).catch((function(e){})).finally((function(){return s(!1)}))},E=function(e,t){s(!0),function(e,t){return new Promise((function(n,a){Fe({url:"/requestItems/".concat(e,"/employees/").concat(t,"/cancel"),method:"put",data:{}}).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))}(e,t).then((function(t){var i=t.status,c=t.message;"OK"===i?(a(n.filter((function(t){return t.id!=e}))),oe("Endorse Request",c)):de("Endorse Request",c)})).catch((function(e){})).finally((function(){return s(!1)}))},S=function(){var e;console.log("Lets fetch request",C.user),s(!0),(e=C.user.id,new Promise((function(t,n){Fe({url:"/requestItems/employees/".concat(e,"/generalManager"),method:"get"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))).then((function(e){var t=e.status,i=e.data;console.log("res",i),"OK"===t&&a(i),console.log("requests",n)})).catch((function(e){de("My requests","Failed to Fetch Requests!")})).finally((function(){s(!1)}))};return Ze({roles:ye.generalManagerApproveRoles}),Object(l.useEffect)((function(){return y.updateCurrentPage("GENERAL MANAGER ITEM REQUESTS"),S(),function(){}}),[]),Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},"aria-label":"department bar",children:Object(Ce.jsx)("div",{className:v.headerBar,children:Object(Ce.jsx)(O.a,{variant:"h6",children:"Item Requests"})})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px"},children:[Object(Ce.jsxs)(ft.a,{className:v.tableContainer,children:[r?Object(Ce.jsx)(Ot.a,{color:"secondary",style:{width:"100%"}}):null,Object(Ce.jsxs)(xt.a,{stickyHeader:!0,"aria-label":"list of departments table",children:[Object(Ce.jsx)(gt.a,{children:Object(Ce.jsxs)(vt.a,{children:[Nn.map((function(e){return Object(Ce.jsx)(yt.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)})),Object(Ce.jsx)(yt.a,{align:"right",children:"Actions"})]})}),Object(Ce.jsx)(Ct.a,{children:n&&n.slice(j*p,j*p+p).map((function(e){return Object(Ce.jsxs)(vt.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Nn.map((function(t){t.id;var n=e[t.id],a=t.format?t.format(n):n;return Object(Ce.jsx)(yt.a,{align:t.align,children:"status"===t.id?Object(Ce.jsx)("span",{style:{backgroundColor:je(n),padding:"5px",borderRadius:"10px",color:"#ffffff"},children:a}):a},t.id)})),Object(Ce.jsx)(yt.a,{align:"right",children:Object(Ce.jsxs)("div",{style:{minWidth:"10px",display:"flex",flexDirection:"row",justifyContent:"flex-start"},children:[Object(Ce.jsx)(x.a,{disabled:e.unitPrice<=0,size:"small",disableElevation:!0,variant:"contained",onClick:function(){return t=e.id,void g.fire({title:"Are you sure you want to endorse request?",showDenyButton:!0,confirmButtonText:"Yes",preConfirm:function(){console.log("left confirm"),N(t,C.user.id)}});var t},style:{backgroundColor:"#30fc19",marginRight:"5px",color:"#ffffff"},children:Object(Ce.jsx)(fn.a,{})}),Object(Ce.jsx)(x.a,{disabled:e.unitPrice<=0,size:"small",disableElevation:!0,variant:"contained",onClick:function(){return t=e.id,void g.fire({title:"Are you sure you want to Cancel request?",showDenyButton:!0,confirmButtonText:"Yes",preConfirm:function(){console.log("left confirm"),E(t,C.user.id)}});var t},style:{backgroundColor:"#fc0b03",color:"#ffffff"},children:Object(Ce.jsx)(On.a,{})})]})})]},e.id)}))})]})]}),Object(Ce.jsx)(Nt.a,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:p,page:j,onChangePage:function(e,t){b(t)},onChangeRowsPerPage:function(e){f(+e.target.value),b(0)}})]})]})},Rn=[{id:"name",label:"Name",minWidth:170,align:"left"},{id:"quantity",label:"Quantity",minWidth:100,align:"left"},{id:"reason",label:"Reason",minWidth:100,align:"left"},{id:"requestDate",label:"Date Requested",minWidth:100,align:"left",format:function(e){return ue(e)}},{id:"endorsement",label:"Endorsed",minWidth:100,align:"left"}],wn=Object(b.a)((function(e){return{headerBar:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},tableContainer:{maxHeight:440,padding:10},textField:{marginBottom:"20px"}}})),Pn={id:null,name:"",reason:"",quantity:0,unitPrice:0,supplierId:"",purpose:""},Dn=function(){var e=Object(l.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1],c=Object(l.useState)(!1),r=Object(d.a)(c,2),s=r[0],o=r[1],b=Object(l.useState)(!1),m=Object(d.a)(b,2),h=m[0],p=m[1],f=Object(l.useState)(Pn),g=Object(d.a)(f,2),v=g[0],y=g[1],C=Object(l.useState)(!1),E=Object(d.a)(C,2),S=E[0],R=E[1],w=Object(l.useState)(0),P=Object(d.a)(w,2),D=P[0],F=P[1],A=Object(l.useState)(10),T=Object(d.a)(A,2),q=T[0],U=T[1],M=Object(l.useState)([]),B=Object(d.a)(M,2),L=B[0],H=B[1],W=(ie()(ne.a),Object(G.f)(),Object(G.i)().path,wn()),z=ke(),_=Object(l.useContext)(Ee),K=function(){R(!0)},V=function(){y(Object(j.a)(Object(j.a)({},Pn),{},{supplierId:L[0].id})),R(!1)},Q=function(){o(!0),(z.id,new Promise((function(e,t){Fe({url:"/requestItems/endorsedItems",method:"get"}).then((function(t){return e(t)})).catch((function(e){return t(e)}))}))).then((function(e){var t=e.status,a=e.data;console.log("res",a),"FOUND"===t&&i(a),console.log("requests",n)})).catch((function(e){de("My requests","Failed to Fetch Requests!")})).finally((function(){o(!1)}))};Object(l.useEffect)((function(){_.updateCurrentPage("ENDORSED ITEM REQUEST"),Q(),Mt().then((function(e){var t=e.status,n=e.data;"SUCCESS"===t&&(H(n),y(Object(j.a)(Object(j.a)({},v),{},{supplierId:n[0].id})))})).catch((function(e){})).finally((function(){}))}),[]);var Y=function(e){return e.endorsement!=a.ENDORSED||e.unitPrice>0};return Object(Ce.jsxs)(l.Fragment,{children:[Object(Ce.jsx)(it.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},"aria-label":"department bar",children:Object(Ce.jsx)("div",{className:W.headerBar,children:Object(Ce.jsx)(O.a,{variant:"h6",children:"Endorsed Requests"})})}),Object(Ce.jsxs)(it.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px"},children:[Object(Ce.jsxs)(ft.a,{className:W.tableContainer,children:[s?Object(Ce.jsx)(Ot.a,{color:"secondary",style:{width:"100%"}}):null,Object(Ce.jsxs)(xt.a,{stickyHeader:!0,"aria-label":"list of departments table",children:[Object(Ce.jsx)(gt.a,{children:Object(Ce.jsxs)(vt.a,{children:[Rn.map((function(e){return Object(Ce.jsx)(yt.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)})),Object(Ce.jsx)(yt.a,{align:"right",children:"Actions"})]})}),Object(Ce.jsx)(Ct.a,{children:n&&n.slice(D*q,D*q+q).map((function(e){return Object(Ce.jsxs)(vt.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Rn.map((function(t){t.id;var n=e[t.id],a=t.format?t.format(n):n;return Object(Ce.jsx)(yt.a,{align:t.align,children:"status"===t.id?Object(Ce.jsx)("span",{style:{backgroundColor:je(n),padding:"5px",borderRadius:"10px",color:"#ffffff"},children:a}):a},t.id)})),Object(Ce.jsx)(yt.a,{align:"right",children:Object(Ce.jsx)(x.a,{disabled:Y(e),size:"small",disableElevation:!0,variant:"contained",onClick:function(){return function(e){var t={id:e.id,name:e.name,reason:e.reason,purpose:e.purpose,quantity:e.quantity,unitPrice:0,supplierId:L[0].id};y(t),K()}(e)},style:{backgroundColor:Y(e)?"#e3e1e1":"#30fc19",marginRight:"5px",color:"#ffffff"},children:Object(Ce.jsx)(fn.a,{})})})]},e.id)}))})]})]}),Object(Ce.jsx)(Nt.a,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:q,page:D,onChangePage:function(e,t){F(t)},onChangeRowsPerPage:function(e){U(+e.target.value),F(0)}})]}),Object(Ce.jsxs)(ot.a,{open:S,onClose:V,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0,children:[Object(Ce.jsx)(dt.a,{id:"form-dialog-title",children:"Procurement Form"}),Object(Ce.jsx)(ut.a,{children:Object(Ce.jsxs)("div",{style:{width:"400px"},children:[Object(Ce.jsxs)(N.a,{children:[Object(Ce.jsx)(I.a,{children:Object(Ce.jsx)(k.a,{primary:"Item",secondary:v.name})}),Object(Ce.jsx)(I.a,{children:Object(Ce.jsx)(k.a,{primary:"Reason",secondary:v.reason})}),Object(Ce.jsx)(I.a,{children:Object(Ce.jsx)(k.a,{primary:"Purpose",secondary:v.purpose})}),Object(Ce.jsx)(I.a,{children:Object(Ce.jsx)(k.a,{primary:"Quantity",secondary:v.quantity})})]}),Object(Ce.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[Object(Ce.jsxs)(Jt.a,{variant:"outlined",className:W.textField,children:[Object(Ce.jsx)(Xt.a,{htmlFor:"outlined-age-native-simple",children:"Supplier"}),Object(Ce.jsx)(Zt.a,{native:!0,value:v.supplierId,onChange:function(e){var t=e.target,n=t.name;console.log("event",e.target.value),y(Object(j.a)(Object(j.a)({},v),{},Object(u.a)({},n,t.value)))},label:"Supplier",name:"supplierId",children:L&&L.map((function(e){return Object(Ce.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(Ce.jsx)(rt.a,{type:"number",label:"Unit Price",variant:"outlined",name:"unitPrice",value:v.unitPrice,onChange:function(e){var t=e.target,n=t.name,a=t.value;y(Object(j.a)(Object(j.a)({},v),{},Object(u.a)({},n,a)))},className:W.textField})]})]})}),Object(Ce.jsxs)(jt.a,{children:[Object(Ce.jsx)(x.a,{onClick:function(){V()},color:"primary",disabled:h,children:Object(Ce.jsx)(O.a,{variant:"button",children:"Cancel"})}),Object(Ce.jsxs)(x.a,{onClick:function(){var e={supplier:L.find((function(e){return e.id==v.supplierId})),unitPrice:Number(v.unitPrice)},t=z.id;p(!0),function(e,t,n){return new Promise((function(a,i){Fe({url:"/procurement/".concat(t,"/requestItem/").concat(e),method:"put",data:n}).then((function(e){return a(e)})).catch((function(e){return i(e)}))}))}(v.id,t,e).then((function(e){var t=e.status,a=e.message;"OK"===t?(i(n.filter((function(e){return e.id!=v.id}))),V(),oe("Success",a)):(V(),de("Procurement",a))})).catch((function(e){V()})).finally((function(){p(!1)}))},color:"primary",disabled:h,children:[h?Object(Ce.jsx)(bt.a,{}):null,Object(Ce.jsx)(O.a,{variant:"button",children:"Submit"})]})]})]})]})},In=Object(b.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,textAlign:"left"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(u.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",justifyContent:"center"},mainContainer:{width:"100%",flexGrow:1,padding:"10px"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Fn=function(){var e=In(),t=Object(l.useState)(!0),n=Object(d.a)(t,2),a=n[0],i=n[1],c=Object(l.useState)(!1),r=Object(d.a)(c,2),s=(r[0],r[1],Object(l.useState)(null)),o=Object(d.a)(s,2),u=o[0],j=o[1],b=Object(l.useContext)(Ge),S=Object(l.useContext)(Ee),w=(Object(l.useRef)(null),Object(G.g)()),I=Object(G.i)().path,F=Object(G.f)(),k=function(){j(null)};return Object(l.useEffect)((function(){if(!ke())return console.log("path",I),F.push("/login")})),Object(Ce.jsxs)("div",{className:e.root,children:[Object(Ce.jsx)(m.a,{}),Object(Ce.jsx)(h.a,{position:"absolute",className:Object(D.a)(e.appBar,a&&e.appBarShift),children:Object(Ce.jsxs)(p.a,{className:e.toolbar,children:[Object(Ce.jsx)(f.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},className:Object(D.a)(e.menuButton,a&&e.menuButtonHidden),children:Object(Ce.jsx)(R.a,{})}),Object(Ce.jsx)("div",{style:{marginRight:"20px"},children:Object(Ce.jsx)("img",{width:"40",height:"50",src:"https://www.blueskies.com/wp-content/uploads/2017/10/logo-01.png",alt:"",loading:"eager"})}),Object(Ce.jsx)(O.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:S.currentPage}),Object(Ce.jsxs)("div",{style:{marginLeft:"10px"},children:[Object(Ce.jsxs)(x.a,{style:{color:"#ffffff"},"aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},children:[b.user.fullName,Object(Ce.jsx)(bn.a,{})]}),Object(Ce.jsxs)(g.a,{id:"simple-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:k,children:[Object(Ce.jsx)(v.a,{onClick:function(){console.log("profile")},children:"Profile"}),Object(Ce.jsx)(v.a,{onClick:function(){k(),window.localStorage.removeItem("user"),F.push("/login")},children:"Logout"})]})]})]})}),Object(Ce.jsxs)(y.a,{variant:"permanent",classes:{paper:Object(D.a)(e.drawerPaper,!a&&e.drawerPaperClose)},open:a,children:[Object(Ce.jsx)("div",{className:e.toolbarIcon,children:Object(Ce.jsx)(f.a,{onClick:function(){i(!1)},children:Object(Ce.jsx)(P.a,{})})}),Object(Ce.jsx)(C.a,{}),Object(Ce.jsx)(N.a,{children:Object(Ce.jsx)(Ue,{authUser:ke()})})]}),Object(Ce.jsxs)("main",{className:e.content,children:[Object(Ce.jsx)("div",{className:e.appBarSpacer}),Object(Ce.jsxs)(E.a,{maxWidth:"lg",className:e.container,children:[Object(Ce.jsx)("div",{className:e.mainContainer,children:Object(Ce.jsx)(_e.a,{children:Object(Ce.jsx)(Ke.a,{classNames:"fade",timeout:300,children:Object(Ce.jsxs)(G.c,{location:w,children:[Object(Ce.jsx)(G.a,{path:"".concat(I).concat(ge.path),component:pt}),Object(Ce.jsx)(G.a,{path:"".concat(I,"departments/create"),children:Object(Ce.jsx)(At,{authUser:b.user})}),Object(Ce.jsx)(G.a,{path:"".concat(I,"departments/:departmentId/edit"),children:Object(Ce.jsx)(qt,{authUser:b.user})}),Object(Ce.jsx)(G.a,{path:"".concat(I,"departments"),children:Object(Ce.jsx)(Ft,{authUser:b.user})}),Object(Ce.jsx)(G.a,{path:"".concat(I,"supplier-management/suppliers/:supplierId/edit"),children:Object(Ce.jsx)(_t,{authUser:b.user})}),Object(Ce.jsx)(G.a,{path:"".concat(I,"supplier-management/suppliers/create"),children:Object(Ce.jsx)(Gt,{authUser:b.user})}),Object(Ce.jsx)(G.a,{path:"".concat(I,"supplier-management/suppliers"),children:Object(Ce.jsx)(Ht,{authUser:b.user})}),Object(Ce.jsx)(G.a,{path:"".concat(I,"user-management/users/create"),component:en}),Object(Ce.jsx)(G.a,{path:"".concat(I,"user-management/users/:userId/edit"),component:nn}),Object(Ce.jsx)(G.a,{path:"".concat(I,"user-management/users"),component:Yt}),Object(Ce.jsx)(G.a,{path:"".concat(I).concat(ve.path,"/my-requests/create"),component:jn}),Object(Ce.jsx)(G.a,{path:"".concat(I).concat(ve.path,"/my-requests"),component:pn}),Object(Ce.jsx)(G.a,{path:"".concat(I).concat(ve.path,"/hod-item-requests"),component:vn}),Object(Ce.jsx)(G.a,{path:"".concat(I).concat(ve.path,"/general-manager-item-requests"),component:Sn}),Object(Ce.jsx)(G.a,{path:"".concat(I).concat(ve.path,"/procurement-officer-item-requests"),component:Dn}),Object(Ce.jsx)(G.a,{path:"/not-authorized",component:Cn}),Object(Ce.jsx)(G.a,{exact:!0,path:"".concat(I),component:nt})]})},w.key)})}),Object(Ce.jsx)("div",{style:{width:"100%",marginTop:"auto"},children:Object(Ce.jsx)(Be,{})})]})]})]})},kn=n(550),An=n(557),Tn=n(552),qn=n(549),Un=n.p+"static/media/shopping2.5af434da.jpg",Mn=Object(b.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(Un,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},image1:{backgroundColor:"#0075c9"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Bn=function(){var e=Object(l.useState)({email:"",password:"",rememberMe:!1}),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)(!1),c=Object(d.a)(i,2),r=c[0],s=(c[1],Object(l.useState)(!1)),o=Object(d.a)(s,2),b=o[0],h=o[1],p=Mn(),f=Object(G.f)(),g=(Object(G.i)().path,ie()(ne.a)),v=Object(l.useContext)(Ge),y=function(e){var t=e.target,i=t.name,c=t.value;a(Object(j.a)(Object(j.a)({},n),{},Object(u.a)({},i,c)))};return Object(Ce.jsxs)(Ve.a,{container:!0,component:"main",className:p.root,children:[Object(Ce.jsx)(m.a,{}),Object(Ce.jsx)(Ve.a,{item:!0,xs:!1,sm:4,md:7,className:p.image}),Object(Ce.jsx)(Ve.a,{item:!0,xs:12,sm:8,md:5,component:it.a,elevation:6,square:!0,children:Object(Ce.jsxs)("div",{className:p.paper,children:[Object(Ce.jsx)(ct.a,{className:p.avatar,children:Object(Ce.jsx)(qn.a,{})}),Object(Ce.jsx)(O.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(Ce.jsxs)("form",{className:p.form,noValidate:!0,onSubmit:function(e){var t;e.preventDefault(),h(!0),(t=n,new Promise((function(e,n){Fe({url:"/auth/login",method:"POST",data:t}).then((function(t){return e(t)})).catch((function(e){return n(e)}))}))).then((function(e){console.log("res",e);var t=e.data,n=e.message;if("SUCCESS"===e.status){var a=t.employee,i={id:a.id,firstName:a.firstName,lastName:a.lastName,fullName:a.fullName,email:a.email,phoneNumber:a.phoneNo,roles:a.roles,employeeId:a.employeeId,employeeLevel:a.employeeLevel,department:a.department,createdAt:a.createdAt,token:t.token};return window.localStorage.setItem("user",JSON.stringify(i)),v.saveUser(i),Ae(i.roles,ye.dashboardRoles)?f.push("/"):f.push("/request-management/my-requests")}de("Login",n||"Failed to login!")})).catch((function(e){g.fire({icon:"error",title:"Login",text:"Login Failed"})})).finally((function(){h(!1)}))},children:[Object(Ce.jsx)(rt.a,{onChange:y,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",value:n.email,name:"email",autoComplete:"email",autoFocus:!0}),Object(Ce.jsx)(rt.a,{onChange:y,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:n.password,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(Ce.jsx)(kn.a,{control:Object(Ce.jsx)(An.a,{value:r,color:"primary",name:"remember",onChange:y}),label:"Remember me"}),Object(Ce.jsxs)(x.a,{type:"submit",fullWidth:!0,variant:"contained",disabled:b||!(n.email&&n.password),color:"primary",className:p.submit,children:[b&&Object(Ce.jsx)(bt.a,{size:25,style:{marginRight:"35px"},color:"secondary"}),"Sign In"]}),Object(Ce.jsxs)(Ve.a,{container:!0,children:[Object(Ce.jsx)(Ve.a,{item:!0,xs:!0,children:Object(Ce.jsx)(Me.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(Ce.jsx)(Ve.a,{item:!0,xs:!0,children:Object(Ce.jsx)(Me.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(Ce.jsx)(Tn.a,{mt:5,children:Object(Ce.jsx)(Be,{})})]})]})})]})},Ln=n(282),Hn=n(551),Wn={palette:{type:"light",primary:{main:"#0075c9",dark:"#f4f3ef",light:"#f4f3ef"},secondary:{main:"#ff9e00",dark:"#ff9e00",light:"#ff9e00"},background:{default:"#dae0e6"}}},Gn={palette:{type:"dark",primary:{main:"#0075c9",dark:"#1a1a1b",light:"#1a1a1b"},background:{default:"#303030",paper:"#424242"},secondary:{main:"#ff9e00",dark:"#ff9e00",light:"#ff9e00"}}};var zn=function(){var e=Object(l.useContext)(Ee);console.log("APP CONTEXT THEME",e.theme);var t="light"===e.theme?Object(Ln.a)(Wn):Object(Ln.a)(Gn);return Object(Ce.jsx)(Hn.a,{theme:t,children:Object(Ce.jsx)(z.a,{children:Object(Ce.jsxs)(G.c,{children:[Object(Ce.jsx)(G.a,{exact:!0,path:"/login",children:Object(Ce.jsx)(Bn,{})}),Object(Ce.jsx)(G.a,{path:"/",children:Object(Ce.jsx)(Fn,{})})]})})})},_n=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,566)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))},Kn=n(281),Vn=document.getElementById("root");o.a.render(Object(Ce.jsx)("div",{children:Object(Ce.jsx)(Se,{children:Object(Ce.jsx)(ze,{children:Object(Ce.jsx)(zn,{})})})}),Vn),Object(Kn.a)(Vn,{debugReducer:!0,debugContext:!0,disable:!1,disableAutoMode:!1}),_n()}},[[470,1,2]]]);
//# sourceMappingURL=main.1d2d7802.chunk.js.map